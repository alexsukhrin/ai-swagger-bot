# üß™ –¢–µ—Å—Ç–∏ AI Swagger Bot

–¶—è –ø–∞–ø–∫–∞ –º—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ —Ç–µ—Å—Ç–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç—É AI Swagger Bot, –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞ –º–æ–¥—É–ª—è–º–∏ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—é.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç—ñ–≤

### üîß –ë–∞–∑–æ–≤—ñ —Ç–µ—Å—Ç–∏
- `test_basic.py` - –±–∞–∑–æ–≤—ñ —Ç–µ—Å—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ç–∞ —ñ–º–ø–æ—Ä—Ç—ñ–≤
- `test_config.py` - —Ç–µ—Å—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –ø—Ä–æ–µ–∫—Ç—É
- `test_mount.py` - —Ç–µ—Å—Ç–∏ –º–æ–Ω—Ç—ñ–≤ –¥–æ–¥–∞—Ç–∫—É

### üöÄ API —Ç–µ—Å—Ç–∏
- `test_main_app.py` - —Ç–µ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ FastAPI –¥–æ–¥–∞—Ç–∫—É
- `test_admin_filters.py` - —Ç–µ—Å—Ç–∏ –∞–¥–º—ñ–Ω —Ñ—ñ–ª—å—Ç—Ä—ñ–≤
- `test_admin_ui.py` - —Ç–µ—Å—Ç–∏ –∞–¥–º—ñ–Ω UI
- `test_database_integration.py` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- `test_database_queries.py` - —Ç–µ—Å—Ç–∏ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### ü§ñ AI —Ç–∞ RAG —Ç–µ—Å—Ç–∏
- `test_rag_simple.py` - –ø—Ä–æ—Å—Ç—ñ —Ç–µ—Å—Ç–∏ RAG engine
- `test_rag.py` - –ø–æ–≤–Ω—ñ —Ç–µ—Å—Ç–∏ RAG —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
- `test_embedding_relevance.py` - —Ç–µ—Å—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ embedding
- `test_swagger_error_handler_simple.py` - —Ç–µ—Å—Ç–∏ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫

### üìù –ü—Ä–æ–º–ø—Ç —Ç–µ—Å—Ç–∏
- `test_prompt_integration.py` - —Ç–µ—Å—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –ø—Ä–æ–º–ø—Ç—ñ–≤
- `test_prompt_agent_integration.py` - —Ç–µ—Å—Ç–∏ –∞–≥–µ–Ω—Ç–∞ –ø—Ä–æ–º–ø—Ç—ñ–≤
- `test_yaml_prompt_manager.py` - —Ç–µ—Å—Ç–∏ YAML –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø—Ä–æ–º–ø—Ç—ñ–≤
- `test_user_prompt_isolation.py` - —Ç–µ—Å—Ç–∏ —ñ–∑–æ–ª—è—Ü—ñ—ó –ø—Ä–æ–º–ø—Ç—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### üîó –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏
- `test_production.py` - —Ç–µ—Å—Ç–∏ –ø—Ä–æ–¥–∞–∫—à–Ω —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
- `test_production_jwt.py` - —Ç–µ—Å—Ç–∏ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
- `test_langchain.py` - —Ç–µ—Å—Ç–∏ LangChain –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- `test_categories.py` - —Ç–µ—Å—Ç–∏ —Ä–æ–±–æ—Ç–∏ –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏

### üê≥ Lambda —Ç–µ—Å—Ç–∏
- `test_lambda_handler.py` - —Ç–µ—Å—Ç–∏ AWS Lambda handler

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

### –õ–æ–∫–∞–ª—å–Ω–æ
```bash
# –í—Å—ñ —Ç–µ—Å—Ç–∏
python -m pytest tests/ -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–µ—Å—Ç
python -m pytest tests/test_basic.py -v

# –¢–µ—Å—Ç–∏ –∑ –º–∞—Ä–∫–µ—Ä–∞–º–∏
python -m pytest tests/ -v -m "not integration"
```

### –ß–µ—Ä–µ–∑ Docker
```bash
# –ü—Ä–æ—Å—Ç—ñ —Ç–µ—Å—Ç–∏
make docker-test-simple

# –í—Å—ñ —Ç–µ—Å—Ç–∏
make docker-test-all

# Unit —Ç–µ—Å—Ç–∏
make docker-test-unit

# –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏
make docker-test-integration
```

## üè∑Ô∏è –ú–∞—Ä–∫–µ—Ä–∏ —Ç–µ—Å—Ç—ñ–≤

- `@pytest.mark.integration` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏
- `@pytest.mark.unit` - unit —Ç–µ—Å—Ç–∏
- `@pytest.mark.slow` - –ø–æ–≤—ñ–ª—å–Ω—ñ —Ç–µ—Å—Ç–∏

## üìä –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏

–î–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –ø–æ–∫—Ä–∏—Ç—Ç—è –∫–æ–¥—É —Ç–µ—Å—Ç–∞–º–∏:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
python -m pytest tests/ --cov=src --cov-report=html

# Docker
make docker-test-all
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### conftest.py
–ú—ñ—Å—Ç–∏—Ç—å –∑–∞–≥–∞–ª—å–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–ª—è –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤:
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Python path
- –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è —Ç–µ—Å—Ç—ñ–≤
- –ú–æ–∫–∏ —Ç–∞ —Ñ—ñ–∫—Å—Ç—É—Ä–∏

### pytest.ini
–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è pytest:
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è
- –ú–∞—Ä–∫–µ—Ä–∏
- –®–ª—è—Ö–∏ –¥–æ —Ç–µ—Å—Ç—ñ–≤

## üìù –ù–∞–ø–∏—Å–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–µ—Å—Ç—ñ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç—É
```python
"""
–û–ø–∏—Å —Ç–µ—Å—Ç—É
"""
import pytest
from unittest.mock import Mock, patch


def test_functionality():
    """–û–ø–∏—Å —Ç–µ—Å—Ç—É"""
    # Arrange
    expected = "expected_value"

    # Act
    result = function_under_test()

    # Assert
    assert result == expected
```

### –§—ñ–∫—Å—Ç—É—Ä–∏
```python
@pytest.fixture
def mock_dependency():
    """–ú–æ–∫ –¥–ª—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ"""
    with patch('module.dependency') as mock:
        mock.return_value = Mock()
        yield mock
```

### –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
```python
def test_error_handling():
    """–¢–µ—Å—Ç –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫"""
    try:
        from module import Class
        # –¢–µ—Å—Ç
    except ImportError as e:
        pytest.skip(f"–ú–æ–¥—É–ª—å –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–∏–π: {e}")
```

## üö® –í—ñ–¥–æ–º—ñ –ø—Ä–æ–±–ª–µ–º–∏

1. **–í—ñ–¥–Ω–æ—Å–Ω—ñ —ñ–º–ø–æ—Ä—Ç–∏** - –¥–µ—è–∫—ñ –º–æ–¥—É–ª—ñ –º–∞—é—Ç—å –ø—Ä–æ–±–ª–µ–º–∏ –∑ –≤—ñ–¥–Ω–æ—Å–Ω–∏–º–∏ —ñ–º–ø–æ—Ä—Ç–∞–º–∏
2. **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö** - –¥–µ—è–∫—ñ —Ç–µ—Å—Ç–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å PostgreSQL –∑ pgvector
3. **–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ** - –¥–µ—è–∫—ñ —Ç–µ—Å—Ç–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö API –∫–ª—é—á—ñ–≤

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å—å–æ–≥–æ —Ç–µ—Å—Ç—ñ–≤:** 155+
- **–ü–æ–∫—Ä–∏—Ç—Ç—è:** ~13%
- **–°—Ç–∞—Ç—É—Å:** –í —Ä–æ–∑—Ä–æ–±—Ü—ñ

## ü§ù –í–Ω–µ—Å–æ–∫

–ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –Ω–æ–≤–∏—Ö —Ç–µ—Å—Ç—ñ–≤:
1. –î–æ—Ç—Ä–∏–º—É–π—Ç–µ—Å—å —ñ—Å–Ω—É—é—á–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–ø–∏—Å–æ–≤—ñ –Ω–∞–∑–≤–∏
3. –î–æ–¥–∞–≤–∞–π—Ç–µ –¥–æ–∫—Å—Ç—Ä—ñ–Ω–≥–∏
4. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –º–æ–∫–∏ –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
5. –û–Ω–æ–≤–ª—é–π—Ç–µ —Ü–µ–π README
